<UserControl x:Class="CivilProcessERP.Views.ManageProcessServerStatusView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid Background="LightCyan" Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Manage Process Server Status" FontSize="24" FontWeight="Bold" 
                       HorizontalAlignment="Center" Foreground="#007272"/>
            <TextBlock Text="Toggle process server status for jobs" FontSize="14" 
                       HorizontalAlignment="Center" Foreground="Gray" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="350"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Panel - Process Server Selection -->
            <StackPanel Grid.Column="0" Background="White" Margin="0,0,10,0">
                <TextBlock Text="Select Process Server" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                
                <!-- Process Server Search -->
                <TextBlock Text="Search Process Server:" Margin="0,0,0,5"/>
                <ComboBox x:Name="ProcessServerComboBox"
                          IsEditable="True"
                          IsTextSearchEnabled="False"
                          StaysOpenOnEdit="True"
                          Height="30"
                          Margin="0,0,0,10"
                          KeyUp="ProcessServerComboBox_KeyUp"
                          SelectionChanged="ProcessServerComboBox_SelectionChanged"/>

                <Button x:Name="SearchButton" Content="Search" 
                        Background="#007272" Foreground="White" 
                        Height="30" Width="100" HorizontalAlignment="Left"
                        Click="SearchButton_Click" Margin="0,0,0,15"/>

                <!-- Add/Delete Process Server -->
                <GroupBox Header="Process Server Management" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Button x:Name="AddProcessServerButton" Content="Add New Process Server" 
                                Background="Green" Foreground="White" 
                                Height="30" Margin="0,5" Click="AddProcessServer_Click"/>
                        <Button x:Name="DeleteProcessServerButton" Content="Delete Selected Process Server" 
                                Background="Red" Foreground="White" 
                                Height="30" Margin="0,5" Click="DeleteProcessServer_Click"/>
                    </StackPanel>
                </GroupBox>

                <!-- Process Server Info -->
                <GroupBox Header="Process Server Information" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <TextBlock Text="Selected Process Server:" FontWeight="Bold"/>
                        <TextBlock x:Name="SelectedProcessServerTextBlock" Margin="0,5,0,10"/>
                        
                        <TextBlock Text="Total Jobs:" FontWeight="Bold"/>
                        <TextBlock x:Name="TotalJobsTextBlock" Margin="0,5,0,10"/>
                        
                        <TextBlock Text="Active Jobs:" FontWeight="Bold"/>
                        <TextBlock x:Name="ActiveJobsTextBlock" Margin="0,5,0,10"/>
                        
                        <TextBlock Text="Inactive Jobs:" FontWeight="Bold"/>
                        <TextBlock x:Name="InactiveJobsTextBlock" Margin="0,5,0,10"/>
                    </StackPanel>
                </GroupBox>

                <!-- Bulk Actions -->
                <GroupBox Header="Bulk Actions" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Button x:Name="ActivateAllButton" Content="Activate All Jobs" 
                                Background="Green" Foreground="White" 
                                Height="30" Margin="0,5" Click="ActivateAllButton_Click"/>
                        <Button x:Name="DeactivateAllButton" Content="Deactivate All Jobs" 
                                Background="Red" Foreground="White" 
                                Height="30" Margin="0,5" Click="DeactivateAllButton_Click"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>

            <!-- Right Panel - Jobs List -->
            <StackPanel Grid.Column="1" Background="White"> <!-- Jobs List DataGrid and Status -->
                <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" MaxHeight="600">
                    <DataGrid x:Name="JobsDataGrid" AutoGenerateColumns="False" IsReadOnly="False" Margin="0,0,0,10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="JOB ID" Binding="{Binding JobId}" Width="120"/>
                            <DataGridTextColumn Header="CASE NUMBER" Binding="{Binding CaseNumber}" Width="120"/>
                            <DataGridTextColumn Header="DEFENDANT" Binding="{Binding Defendant}" Width="200"/>
                            <DataGridTextColumn Header="PLAINTIFF" Binding="{Binding Plaintiff}" Width="200"/>
                            <DataGridCheckBoxColumn Header="ACTIVE" Binding="{Binding IsActive}" Width="80"/>
                            <DataGridTemplateColumn Header="ACTIONS" Width="100">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Content="TOGGLE" Background="Purple" Foreground="White" 
                                                Click="ToggleJobStatus_Click" Tag="{Binding JobId}" Margin="2"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </ScrollViewer>
                <TextBlock x:Name="StatusMessage" TextWrapping="Wrap" FontWeight="Bold" Margin="0,10,0,0" Foreground="Green"/>
            </StackPanel>
        </Grid>

        <!-- Footer -->
        <StackPanel Grid.Row="2" HorizontalAlignment="Center" Margin="0,20,0,0">
            <Button x:Name="BackButton" Content="Back to Administration" 
                    Background="DarkGray" Foreground="White" 
                    Height="35" Width="200" Click="BackButton_Click"/>
        </StackPanel>
    </Grid>
</UserControl> 