<Window x:Class="CivilProcessERP.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:CivilProcessERP"
        Title="Civil Process ERP" Height="900" Width="1600"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        KeyDown="Window_KeyDown"
        MinWidth="900"
        MinHeight="600">

    <Grid>
        <!-- 🔐 Login View -->
        <ContentControl x:Name="LoginContent" />

        <!-- 🔓 Main Dashboard Layout -->
        <Grid x:Name="DashboardLayoutGrid" Visibility="Collapsed">

            <!-- Define Rows and Columns -->
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/> <!-- Top Navigation Bar -->
                <RowDefinition Height="*"/>  <!-- Main Content Area -->
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>   <!-- Main Content Area -->
                <ColumnDefinition Width="250"/> <!-- Right Sidebar -->
            </Grid.ColumnDefinitions>

            <!-- ✅ Top Navigation Bar -->
            <DockPanel Grid.Row="0" Grid.ColumnSpan="2" Background="White">
                <StackPanel Orientation="Horizontal" Background="White" Height="50" Width="1400">
                    <TextBlock Text="Great Lakes Civil Services" 
                               FontSize="22" FontWeight="Bold" Foreground="Blue" 
                               VerticalAlignment="Center" Margin="10"/>

                    <!-- Nav Buttons -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,10,0">
                        <Button Content="Dashboard" Click="NavigateToPage" Tag="Dashboard"/>
                        <Button Content="Administration" Click="AdministrationButton_Click"/>
                        <Button Content="HuronPortal" Click="NavigateToPage" Tag="HuronPortal"/>
                        <Button Content="Courts" Click="NavigateToPage" Tag="Courts"/>
                        <Button Content="Clients" Click="NavigateToPage" Tag="Clients"/>
                        <Button Content="Employee's Corner" Click="NavigateToPage" Tag="EmployeesCorner"/>
                        <!-- Add the + button for new ERP window -->
                        <Button Content="+" Width="36" Height="36" Margin="8,0,0,0" VerticalAlignment="Center" Click="AddNewMainWindow_Click" ToolTip="Open new ERP window"/>
                        <Button Content="Logout" Click="Logout_Click" Background="Red" Foreground="White" Margin="20,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </DockPanel>

            <!-- ✅ Back/Forward Buttons -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="10" Grid.Row="0">
                <Button Content="← BACK" Click="GoBack" Name="GoBackBtn" 
                        Width="100" Height="30" Background="Blue" Foreground="White"/>
                <Button Content="FORWARD →" Click="GoForward" Name="GoForwardBtn" 
                        Width="100" Height="30" Background="Blue" Foreground="White" Margin="10,0,0,0"/>
                <!-- <Button Content="TEST CLOSE" Click="TestCloseTab_Click" Name="TestCloseBtn" 
                        Width="100" Height="30" Background="Orange" Foreground="White" Margin="10,0,0,0"/> -->
            </StackPanel>

            <!-- Main content area (no tabs, just a single content control) -->
            <Grid Grid.Row="1" Grid.Column="0" Background="#F0F0F0">
                <ContentControl x:Name="MainContentControl" />
            </Grid>

            <!-- ✅ Right Sidebar -->
            <Grid Grid.Row="1" Grid.Column="1" Background="#007272">
                <StackPanel Margin="10" VerticalAlignment="Top">
                    <Button Content="Executions" Background="Black" Foreground="White" Click="NavigateToPage" Tag="Executions"/>
                    <Button Content="General Civil" Background="Black" Foreground="White" Click="NavigateToPage" Tag="GeneralCivil"/>
                    <Button Content="Landlord-Tenant" Background="Black" Foreground="White" Click="NavigateToPage" Tag="LandlordTenant"/>
                    <Button Content="Evictions" Background="Black" Foreground="White" Click="NavigateToPage" Tag="Evictions"/>
                    <Button Content="Server MGT" Background="Black" Foreground="White" Click="NavigateToPage" Tag="ServerMGT"/>
                    <Button Content="Logistics" Background="Black" Foreground="White" Click="NavigateToPage" Tag="Logistics"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>
